"use strict";(self.webpackChunkfused_docs=self.webpackChunkfused_docs||[]).push([[4656],{1875:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>f,toc:()=>c});var o=n(4848),r=n(8453),s=n(3650);const i={},a="Buffer",f={id:"basics/transform/vector/buffer",title:"Buffer",description:"<Iframe",source:"@site/docs/basics/transform/vector/buffer.mdx",sourceDirName:"basics/transform/vector",slug:"/basics/transform/vector/buffer",permalink:"/fused-docs/basics/transform/vector/buffer",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Vectorize",permalink:"/fused-docs/basics/transform/raster/vectorize"},next:{title:"Dissolve",permalink:"/fused-docs/basics/transform/vector/dissolve"}},d={},c=[];function l(e){const t={code:"code",h1:"h1",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"buffer",children:"Buffer"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:"@fused.udf\ndef udf(n_points: int=10000, buffer: int=0.025):\n    import geopandas as gpd\n    from shapely.geometry import Point, Polygon\n    import random\n\n\n    # Create a GeoDataFrame for points within the bounding box of an outer square\n    gdf_polygon = gpd.GeoDataFrame({'geometry': [Polygon([(-122.52690000000051, 37.70313158980733),(-122.52690000000051, 37.816395657523195),(-122.34604834372873, 37.816134829424335),(-122.34656848822227, 37.70339041384273)])]})\n    minx, miny, maxx, maxy = gdf_polygon.bounds.iloc[0]\n    points = [Point(random.uniform(minx, maxx), random.uniform(miny, maxy)) for _ in range(n_points)]\n    gdf_points = gpd.GeoDataFrame({'geometry': points})\n    gdf_points['color'] = 10\n\n    # Create a buffer around a point at the centroid of the square\n    buffered_polygon = gdf_polygon.centroid.buffer(buffer)\n\n    # Color the points that fall within the buffered polygon\n    points_within = gdf_points[gdf_points.geometry.within(buffered_polygon.unary_union)]\n    gdf_points.loc[points_within.index, 'color'] = 1000\n\n    return gdf_points\n"})}),"\n","\n","\n",(0,o.jsx)(s.A,{id:"buffer",url:"https://staging.fused.io/workbench#app/s/aH4sIAAAAAAAAA31UW2%2FTMBT%2BK5Z52IqyNpdmXStFQjCBhBAPDHhZpsiJj1urrh1sZ1uH%2BO%2BcxF3bVYPTKufynWt8nN%2B0MRzogspNa6wn7ZZDsybMkZavS72zOm%2BBbZT0PeD83i46B7xibVvq%2FveG3CjJwZIHyZfgXal11RqpvSMFho3dgJ6X9Gu3qdHNCBLgRUkjEkckiZECG5W67oRAr5eh7wdjCBjHwyMfnmk%2BCj186zT5cf2x1O8wrmHNCirOPCs1B0GUYXxQz59bK5KhZihWhESLUhMkLrD4fsax7fR5AHoq6fSy5tN8xjkXdTOd8ZpzxmZxxtLLOOPzHER8CTznUz5vplktrtI0n%2BVXLEvm6TzPeT%2FDId%2B%2Bn2fhGNx1F1gwjwKz4DursVWcr2%2F3lQEPCV%2Bk2b2uD3i0HsiG4SHiCwsLUDUrZv1uWtyE8TUaj4ZH78r5rYKipCjX5nExmQwGNwn6hDO7vrif45CHMKmll0xV9xIeMB7rFn3yn6je9NpRhZ4U89J3HIpsNp5dZWkWneBGL4PDRZKm42mW5vMTlydjNkWSnFhb6ZtVER9ZR0eyYluwrrg9icFGv%2FTISZNhFz6B%2BeyMHhxejPxM%2FZEUXLyCCKkU8OK77eAVFK%2BeWf8bxmtWKamhaowytji7xW1%2BO8gR2bEkvjv7XyReVr8q0jg%2BcRod1Ltov3P4pxG18KuTFjaAa0UXt3QJpmWaM7fDwPlefGTWsi0KW2YVsrBcgyCUeRiWDLWlZe3qXj6huP%2FSXLAG6F1EpfvYKXXTWABNF4IpB3%2F%2BArQGTYW1BAAA"})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},3650:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(6540),r=n(4848);function s(e){let{id:t,url:n}=e;const s=(0,o.useRef)(null);return(0,o.useEffect)((()=>{let e=null;document.getElementById("magic-iframe-"+t)?e=document.getElementById("magic-iframe-"+t):(e=document.createElement("iframe"),e.src=n,e.height="1050px",e.width="100%",e.scrolling="no",e.id="magic-iframe-"+t,document.body.appendChild(e));const o=s.current.getBoundingClientRect();return e.style.position="absolute",e.style.left=`${o.left+window.scrollX}px`,e.style.top=`${o.top+window.scrollY}px`,e.style.width=`${o.width}px`,e.style.height=`${o.height}px`,e.style.display="block",()=>{const e=document.getElementById("magic-iframe-"+t);e&&(e.style.left="-10000px",e.style.top="-10000px",e.style.width="0px",e.style.height="0px",e.style.display="none")}}),[]),(0,r.jsx)("div",{ref:s,style:{width:"100%",height:"1050px"}})}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var o=n(6540);const r={},s=o.createContext(r);function i(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);