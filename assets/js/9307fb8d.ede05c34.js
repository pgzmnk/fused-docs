"use strict";(self.webpackChunkfused_docs=self.webpackChunkfused_docs||[]).push([[6356],{2156:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>d,toc:()=>i});var a=s(4848),n=s(8453);const r={},c="DuckDB",d={id:"basics/out/duckdb",title:"DuckDB",description:"DuckDB is an open source, in-process, analytical database. It is popular for fast, local queries over in memory datasets. DuckDB supports several of the output formats that Fused can serve, and in particular it has great support for Parquet files.",source:"@site/docs/basics/out/duckdb.md",sourceDirName:"basics/out",slug:"/basics/out/duckdb",permalink:"/basics/out/duckdb",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"DeckGL (HTML)",permalink:"/basics/out/deckgl"},next:{title:"Felt",permalink:"/basics/out/felt"}},o={},i=[{value:"1. Generate a signed URL for a UDF",id:"1-generate-a-signed-url-for-a-udf",level:2},{value:"2. Install and load <code>httpfs</code>",id:"2-install-and-load-httpfs",level:2},{value:"3. Query using <code>read_parquet</code>",id:"3-query-using-read_parquet",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"duckdb",children:"DuckDB"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://duckdb.org/",children:"DuckDB"})," is an open source, in-process, analytical database. It is popular for fast, local queries over in memory datasets. DuckDB supports several of the output formats that Fused can serve, and in particular it has great support for Parquet files."]}),"\n",(0,a.jsx)(t.p,{children:"To load data from Fused, you'll first generate a signed UDF URL."}),"\n",(0,a.jsx)(t.h2,{id:"1-generate-a-signed-url-for-a-udf",children:"1. Generate a signed URL for a UDF"}),"\n",(0,a.jsxs)(t.p,{children:["First, on Workbench, create and save a UDF that successfully renders in ",(0,a.jsx)(t.code,{children:"File"}),' mode. Under the "Settings" tab, click "Share" to ',(0,a.jsx)(t.a,{href:"/basics/core-concepts/#generate-endpoints-with-workbench",children:"generate a signed URL"})," that can be called via HTTP requests."]}),"\n",(0,a.jsxs)(t.p,{children:["Modify the generated ",(0,a.jsx)(t.code,{children:"HTTP"})," URL to set ",(0,a.jsx)(t.code,{children:"dtype_out_vector"})," to ",(0,a.jsx)(t.code,{children:"parquet"}),". You can optionally pass UDF parameters as URL-encoded strings, which can be configured to change based on query input."]}),"\n",(0,a.jsxs)(t.h2,{id:"2-install-and-load-httpfs",children:["2. Install and load ",(0,a.jsx)(t.code,{children:"httpfs"})]}),"\n",(0,a.jsxs)(t.p,{children:["To load Parquet files from remote endpoints from within DuckDB, you can install the ",(0,a.jsx)(t.code,{children:"httpfs"})," extension. This is an official DuckDB extension and will be automatically downloaded if needed."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"INSTALL httpfs;\nLOAD httpfs;\n"})}),"\n",(0,a.jsxs)(t.h2,{id:"3-query-using-read_parquet",children:["3. Query using ",(0,a.jsx)(t.code,{children:"read_parquet"})]}),"\n",(0,a.jsxs)(t.p,{children:["Now you can make a query using the UDF URL, with the dtype_out_vector set to ",(0,a.jsx)(t.code,{children:"parquet"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"select *\nfrom read_parquet('https://www.fused.io/server/v1/realtime-shared/221aa65f3d96f1a320ed0f4eea0d320724c0ddc0c75cbf70df711def11e2ecc5/run/file?dtype_out_vector=parquet');\n"})}),"\n",(0,a.jsx)(t.p,{children:"You can pass parameters into the URL from the query:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"select *\nfrom read_parquet('https://www.fused.io/server/v1/realtime-shared/221aa65f3d96f1a320ed0f4eea0d320724c0ddc0c75cbf70df711def11e2ecc5/run/file?dtype_out_vector=parquet&resolution=13');\n"})})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>d});var a=s(6540);const n={},r=a.createContext(n);function c(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);