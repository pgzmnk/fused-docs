"use strict";(self.webpackChunkfused_docs=self.webpackChunkfused_docs||[]).push([[5751],{7877:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>c,toc:()=>d});var n=r(4848),s=r(8453);const a={},o="MotherDuck",c={id:"basics/out/motherduck",title:"MotherDuck",description:"alt text",source:"@site/docs/basics/out/motherduck.md",sourceDirName:"basics/out",slug:"/basics/out/motherduck",permalink:"/basics/out/motherduck",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Excel",permalink:"/basics/out/microsoft_excel"},next:{title:"Notion",permalink:"/basics/out/notion"}},i={},d=[{value:"1. Generate a signed URL for a UDF",id:"1-generate-a-signed-url-for-a-udf",level:2},{value:"2. Run a query",id:"2-run-a-query",level:2},{value:"Parquet",id:"parquet",level:3},{value:"CSV",id:"csv",level:3}];function u(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"motherduck",children:"MotherDuck"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"alt text",src:r(7135).A+"",width:"2412",height:"1630"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://motherduck.com/",children:"MotherDuck"})," is a collaborative serverless analytics platform. It's popular for its hybrid DuckDB execution engine, simplified database sharing, a diverse integrations ecosystem, and a SQL notebook-like UI. It runs DuckDB, so it supports several of the table output formats that Fused can serve - particularly Parquet files."]}),"\n",(0,n.jsx)(t.p,{children:"To follow along, you'll need a Motherduck account - which you can create for free."}),"\n",(0,n.jsx)(t.p,{children:"To load data from Fused, you'll first generate a signed UDF URL."}),"\n",(0,n.jsx)(t.h2,{id:"1-generate-a-signed-url-for-a-udf",children:"1. Generate a signed URL for a UDF"}),"\n",(0,n.jsxs)(t.p,{children:["First, on Workbench, create and save a UDF that successfully renders in ",(0,n.jsx)(t.code,{children:"File"}),' mode. Under the "Settings" tab, click "Share" to ',(0,n.jsx)(t.a,{href:"/basics/core-concepts/#generate-endpoints-with-workbench",children:"generate a signed URL"})," that can be called via HTTP requests."]}),"\n",(0,n.jsxs)(t.p,{children:["Modify the generated ",(0,n.jsx)(t.code,{children:"HTTP"})," URL to set ",(0,n.jsx)(t.code,{children:"dtype_out_vector"})," to ",(0,n.jsx)(t.code,{children:"parquet"}),". You can optionally pass UDF parameters as URL-encoded strings, which can be configured to change based on query input."]}),"\n",(0,n.jsxs)(t.p,{children:["This example uses an instance of the ",(0,n.jsx)(t.a,{href:"https://github.com/fusedio/udfs/blob/main/public/DEM_Raster_to_Vector_Example/DEM_Raster_to_Vector_Example.py",children:"DEM Raster to Vector"})," public UDF."]}),"\n",(0,n.jsx)(t.h2,{id:"2-run-a-query",children:"2. Run a query"}),"\n",(0,n.jsx)(t.p,{children:"Now you can make a query using the UDF URL."}),"\n",(0,n.jsx)(t.h3,{id:"parquet",children:"Parquet"}),"\n",(0,n.jsxs)(t.p,{children:["With the ",(0,n.jsx)(t.code,{children:"dtype_out_vector"})," query paramater set to ",(0,n.jsx)(t.code,{children:"parquet"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"SELECT wkt, area \nFROM read_parquet('https://www.fused.io/server/v1/realtime-shared/' ||\n  '1e35c9b9cadf900265443073b0bd99072f859b8beddb72a45e701fb5bcde807d' ||\n  '/run/file?dtype_out_vector=parquet&min_elevation=500')\nLIMIT 10;\n"})}),"\n",(0,n.jsx)(t.h3,{id:"csv",children:"CSV"}),"\n",(0,n.jsxs)(t.p,{children:["With the ",(0,n.jsx)(t.code,{children:"dtype_out_vector"})," query parameter set to ",(0,n.jsx)(t.code,{children:"csv"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"SELECT wkt, area \nFROM read_csv('https://www.fused.io/server/v1/realtime-shared/' ||\n  '1e35c9b9cadf900265443073b0bd99072f859b8beddb72a45e701fb5bcde807d' ||\n  '/run/file?dtype_out_vector=csv&min_elevation=500', \n  AUTO_DETECT=TRUE) \nLIMIT 10;\n"})})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},7135:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/images/motherduck_fused-b6288a742de061326a9100fdabdd3742.png"},8453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>c});var n=r(6540);const s={},a=n.createContext(s);function o(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);