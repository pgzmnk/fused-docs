"use strict";(self.webpackChunkfused_docs=self.webpackChunkfused_docs||[]).push([[1742],{3631:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>d,toc:()=>l});var s=i(4848),o=i(8453);const t={sidebar_label:"_run",title:"fused._run"},r=void 0,d={id:"reference/fused/_run",title:"fused._run",description:"run",source:"@site/docs/reference/fused/_run.md",sourceDirName:"reference/fused",slug:"/reference/fused/_run",permalink:"/fused-docs/reference/fused/_run",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{sidebar_label:"_run",title:"fused._run"}},a={},l=[{value:"run",id:"run",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"run",children:"run"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def run(email_or_udf_or_token: Union[str, None, UdfJobStepConfig,\n                                     GeoPandasUdfV2] = None,\n        udf_name: Optional[str] = None,\n        *,\n        udf: Optional[GeoPandasUdfV2] = None,\n        job_step: Optional[UdfJobStepConfig] = None,\n        token: Optional[str] = None,\n        udf_email: Optional[str] = None,\n        x: Optional[int] = None,\n        y: Optional[int] = None,\n        z: Optional[int] = None,\n        lat: Optional[float] = None,\n        lng: Optional[float] = None,\n        bbox: Union[gpd.GeoDataFrame, shapely.Geometry, None] = None,\n        sync: bool = True,\n        engine: Optional[Literal["realtime", "batch", "local"]] = None,\n        type: Optional[Literal["tile", "file"]] = None,\n        **parameters)\n'})}),"\n",(0,s.jsx)(n.p,{children:"Executes a user-defined function (UDF) with various execution and input options."}),"\n",(0,s.jsx)(n.p,{children:"This function supports executing UDFs in different environments (realtime, batch, local),\nwith different types of inputs (tile coordinates, geographical bounding boxes, etc.), and\nallows for both synchronous and asynchronous execution. It dynamically determines the execution\npath based on the provided parameters."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"email_or_udf_or_token"})," - A string that can either be an email, a UDF token, or a direct\nreference to a UDF object. It can also be a UdfJobStepConfig object for detailed\nconfiguration, or None to specify UDF details in other parameters."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"udf_name"})," - The name of the UDF to execute."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"udf"})," - A GeoPandasUdfV2 object for direct execution."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"job_step"})," - A UdfJobStepConfig object for detailed execution configuration."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"token"})," - A token representing a shared UDF."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"udf_email"})," - The email associated with the UDF.\nx, y, z: Tile coordinates for tile-based UDF execution.\nlat, lng: Latitude and longitude for location-based UDF execution."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"bbox"})," - A geographical bounding box (as a GeoDataFrame or shapely Geometry) defining the area of interest."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sync"})," - If True, execute the UDF synchronously. If False, execute asynchronously."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"engine"})," - The execution engine to use ('realtime', 'batch', or 'local')."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"type"})," - The type of UDF execution ('tile' or 'file')."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"**parameters"})," - Additional parameters to pass to the UDF."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Raises"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ValueError"})," - If the UDF is not specified or is specified in more than one way."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TypeError"})," - If the first parameter is not of an expected type."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Warning"})," - Various warnings are issued for ignored parameters based on the execution path chosen."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns"}),":"]}),"\n",(0,s.jsx)(n.p,{children:"The result of the UDF execution, which varies based on the UDF and execution path."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Examples"}),":"]}),"\n",(0,s.jsx)(n.h1,{id:"run-a-udf-saved-in-the-fused-system",children:"Run a UDF saved in the Fused system:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'fused.run(udf_email="username@fused.io", udf_name="my_udf_name")\n'})}),"\n",(0,s.jsx)(n.h1,{id:"run-a-udf-saved-in-github",children:"Run a UDF saved in GitHub:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'loaded_udf = fused.load("https://github.com/fusedio/udfs/tree/main/public/Building_Tile_Example")\nfused.run(udf=loaded_udf, bbox=bbox)\n'})}),"\n",(0,s.jsx)(n.h1,{id:"run-a-udf-saved-in-a-local-directory",children:"Run a UDF saved in a local directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'loaded_udf = fused.load("/Users/local/dir/Building_Tile_Example")\nfused.run(udf=loaded_udf, bbox=bbox)\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Notes"}),":"]}),"\n",(0,s.jsx)(n.p,{children:"This function dynamically determines the execution path and parameters based on the inputs.\nIt is designed to be flexible and support various UDF execution scenarios."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var s=i(6540);const o={},t=s.createContext(o);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);