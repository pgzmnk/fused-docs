"use strict";(self.webpackChunkfused_docs=self.webpackChunkfused_docs||[]).push([[9823],{3594:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>f,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var s=n(4848),r=n(8453);const o={},a="Rasterize",i={id:"basics/transform/vector/rasterize",title:"Rasterize",description:"",source:"@site/docs/basics/transform/vector/rasterize.mdx",sourceDirName:"basics/transform/vector",slug:"/basics/transform/vector/rasterize",permalink:"/fused-docs/basics/transform/vector/rasterize",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Dissolve",permalink:"/fused-docs/basics/transform/vector/dissolve"},next:{title:"Self-clip",permalink:"/fused-docs/basics/transform/vector/self-clip"}},c={},d=[];function u(e){const t={code:"code",h1:"h1",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"rasterize",children:"Rasterize"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'@fused.udf\ndef udf():\n    import fused\n    import geopandas as gpd\n    \n    utils = fused.load("https://github.com/fusedio/udfs/tree/f928ee1/public/common/").utils\n    \n    FILE_PATH = "https://www2.census.gov/geo/tiger/TIGER_RD18/STATE/11_DISTRICT_OF_COLUMBIA/11/tl_rd22_11_bg.zip"\n    \n    gdf = gpd.read_file(FILE_PATH)\n    gdf = gdf.dissolve()\n\n    # Create mask from gdf bounds\n    minx, miny, maxx, maxy = gdf.total_bounds\n    chip_shape = (256, 256)\n    dx = (maxx - minx) / chip_shape[1]\n    dy = (maxx - minx) / chip_shape[0]\n\n    # GDAL transform\n    transform = [dx, 0.0, minx, 0.0, -dy, maxy, 0.0, 0.0, 1.0]\n\n    # Generate raster\n    geom_mask = utils.rasterize_geometry(gdf.geometry.iloc[0], chip_shape, transform)\n    return geom_mask.astype("uint8") * 255, gdf.total_bounds\n\n'})}),"\n",(0,s.jsx)("iframe",{src:"https://staging.fused.io/workbench#app/s/aH4sIAAAAAAAAA41T207cMBD9FSt9ASnkAptkgxRVpVCEtNCqC30hKPLak6xF4ri2sxCq%2Fnsnly5UaqXGkTJnTnR8Zjz%2B4bCWg3PqiEa12pIKWkUlp4bgWymey5lQPQf2OGQVf9xnjdVAm1rYgTB2ny87A7ygSuXyXwrDekfuzj8Ru6WWaLCdloZ8ubnM5dX1ZXH3dUUykjtba5U59X1jaSVk5Y3Snmh9A3oH2t%2BFPnqorWjgyGypBu4vOOPlomRxeMwAlgmFIEqiBaQB5TSNwyBJ0zhaHgOw5XEQRSzZQMwCXPh%2FnFBfd9IvRQ3vue0VFG1nC02NBZ0pWeXOZH2tgIlSgMECgLBWS9CGtOUIRUMrIJu2kxxNY%2FCcy7PPdzfnayzqPpcEn%2FujJPHCME2i1CUnSy9Jw3gRPbh%2FZ9M0Wv7Bxl4apCfpyX%2Bws3IuHybrH7FjFkhD8Xx2Ap4KbC7ibDgZ7xsm1gM%2BmMRqaoXtOGQotByF5l3qVlYT88bqRL20bZOFwYw2QDV2IfuNlbBsO6LDwc9GWHRS1LQHPXtYDfFB7pyN1Ihyx526ms3T4U7tNdnUV5fg5DJh%2ByzwItQ11psmrmA4FXYuZhA%2Fx%2BTB201RWAoraF28NiN7Dd2hUYXS7U5wHIHcQTgcqDMRxvY1ZIPwHhlv%2FeH2YrW6ur1AJ4eO62j43gkNDUhrnNN7Z3%2FPZg6MHcJnqjXtMeiprvEzVTAGZd0%2BjZUgqjRV2514wXB%2FA48oA%2Bfh5y8D2Nmb0QMAAA%3D%3D",height:"1050px",width:"100%",scrolling:"no"})]})}function f(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var s=n(6540);const r={},o=s.createContext(r);function a(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);